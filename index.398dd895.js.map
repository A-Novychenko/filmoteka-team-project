{"mappings":"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","sources":["src/index.js","src/js/searchByKeyWord.js","src/js/loader.js","src/js/pagination.js","src/js/renderingGalleryMarkup.js"],"sourcesContent":["// import './sass/index.scss';\n\n// import './js/apiService';\n// import './js/base-config';\n// import './js/findGenres';\n// import './js/getYear';\n// import './js/libraryMarkup';\n// import './js/libraryModal';\n// import './js/loader';\n// import './js/markupModal';\n// import './js/markupSearch';\n// import './js/modal-btns-library';\n// import './js/modal-movie';\n// import './js/pagination';\n// import './js/refs';\n// import './js/renderingGalleryMarkup';\n// import './js/searchByKeyWord';\n// import './js/team-modal';\n// import './js/trailer';\n\n\n///////////////////////////////////////////////////////////////////////\n\n\n// import * as searchByKeyWord from './js/searchByKeyWord';\nimport { headerForm, errorSearch } from './js/refs';\nimport { onHeaderFormClick } from './js/searchByKeyWord';\nimport * as trailer from './js/trailer';\n\nheaderForm.addEventListener('submit', onHeaderFormClick);\n\nimport { oneToggle } from './js/modal-movie';\nimport { closeBtn } from './js/modal-movie';\nimport { keyPressEscCloseMovieModal } from './js/modal-movie';\nimport { clickBackdropCloseTeamModal } from './js/modal-movie';\nimport { renderMarkupModal } from './js/markupModal';\n// // тестую роботу ApiService:\nimport ApiService from './js/apiService';\n// import onChangeTheme from './js/theme-switch';\n\n// theme-switch.js\n\n// const apiservice = new ApiService();\n// //популярні:\n\n// // const service = new ApiService();\n// // // //популярні:\n\n// // service.fetchTrendFilms();\n// //жанри:\n// console.log(service.fetchGenres());\n\n// //по ключовому слову:\n// // service.query = 'cat';\n// service.fetchFilmsByKeyWord();\n\nimport { getMovies } from './js/renderingGalleryMarkup';\n\n/// ////////////footer-modal\nimport { openModalTeamBtn, closeModalTeamBtn, modalTeam } from './js/refs';\nimport { toggleTeamModal, clickBackdropCloseTeamModal } from './js/team-modal';\n\nopenModalTeamBtn.addEventListener('click', toggleTeamModal);\ncloseModalTeamBtn.addEventListener('click', toggleTeamModal);\nmodalTeam.addEventListener('click', clickBackdropCloseTeamModal);\n////////////// footer-modal\n\n// feature/modal-btns-library\nimport { onClick } from './js/modal-btns-library';\n\n// сетить жанри в локальне сховище\n// import './js/getGenres';\n\n// import { onBtnWatchedClick, onBtnQueueClick } from './js/libraryMarkup';\n// console.log('onBtnWatchedClick: ', onBtnWatchedClick);\n\n// import { closeBtn } from './js/modal-movie';\n// console.log('closeBtn: ', closeBtn);\n","import { headerForm, errorText } from './refs';\nimport apiservice from './apiService';\nimport { renderMarkupSearch } from './markupSearch';\nimport { cleanHtml } from './markupSearch';\nimport { hideLoader, showLoader } from './loader';\nimport pagination from './pagination';\nimport { movieContainer, sadEror, paginationDiv } from './refs';\nimport { getMovies } from './renderingGalleryMarkup';\n\n// const apiService = new ApiService();\n\nexport async function onHeaderFormClick(evt) {\n  try {\n    evt.preventDefault();\n    apiservice.query = evt.currentTarget.keyword.value;\n    const keyWord = evt.currentTarget.keyword.value;\n    // console.log('keyWord: ', keyWord);\n    localStorage.setItem('keyWord', keyWord);\n    cleanHtml();\n    apiservice.page = 1;\n\n    if (!apiservice.query.trim()) {\n      errorText.classList.remove('header__error_hidden');\n      sadEror.classList.remove('header__error_hidden');\n      paginationDiv.classList.add('visually-hidden');\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        sadEror.classList.add('header__error_hidden');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n      headerForm.reset();\n      return;\n    }\n\n    showLoader();\n    const response = await apiservice.fetchFilmsByKeyWord();\n    const results = response.data.results;\n    headerForm.reset();\n    hideLoader();\n\n    if (results.length === 0) {\n      errorText.classList.remove('header__error_hidden');\n      sadEror.classList.remove('header__error_hidden');\n      paginationDiv.classList.add('visually-hidden');\n      setTimeout(() => {\n        errorText.classList.add('header__error_hidden');\n        sadEror.classList.add('header__error_hidden');\n        paginationDiv.classList.remove('visually-hidden');\n\n        getMovies();\n      }, 2500);\n\n      headerForm.reset();\n    } else {\n      movieContainer.innerHTML = renderMarkupSearch(results);\n\n      pagination(1, response.data.total_pages);\n      hideLoader();\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n","export const showLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n};\n\nexport const hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n};\n","import apiservice from './apiService';\nimport { renderMarkupSearch } from './markupSearch';\nimport { getMovies } from './renderingGalleryMarkup';\nimport { movieContainer } from './refs';\n\nimport { onLibrPaginationClick } from './libraryMarkup';\n\nconst paginationList = document.querySelector('.pagination__list'); //\nconst paginationBox = document.querySelector('.pagination');\npaginationBox.addEventListener('click', clickFunction);\npaginationBox.removeEventListener('click', onLibrPaginationClick);\n\n// const apiService = new ApiService();\n\nlet currentPage;\n\nexport default async function pagination(currentP, totalPages) {\n  currentPage = currentP;\n\n  let murkup = '';\n\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n\n  if (currentPage > 1) {\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">◄</li> `;\n    murkup += `<li class=\"pagination__item\">1</li>`;\n  }\n\n  if (currentPage > 4) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n\n  if (currentPage > 3) {\n    murkup += `<li class=\"pagination__item\">${beforeTwoPage}</li>`;\n  }\n\n  if (currentPage > 2) {\n    murkup += `<li class=\"pagination__item\">${beforePage}</li>`;\n  }\n\n  murkup += `<li class=\"pagination__item current\">${currentPage}</li>`;\n\n  if (totalPages - 1 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterPage}</li>`;\n  }\n\n  if (totalPages - 2 > currentPage) {\n    murkup += `<li class=\"pagination__item\">${afterTwoPage}</li>`;\n  }\n\n  if (totalPages - 3 > currentPage) {\n    murkup += `<li class=\"pagination__item three-drops\">...</li>`;\n  }\n  if (totalPages > currentPage) {\n    murkup += `<li class=\"pagination__item\">${totalPages}</li>`;\n    murkup += `<li class=\"pagination__item pagination__item_arrows\">►</li>`;\n  }\n  paginationList.innerHTML = murkup;\n}\n\nasync function clickFunction(e) {\n  let response;\n\n  if (e.target.tagName !== 'LI') {\n    return;\n  }\n  if (e.target.textContent === '...') {\n    return;\n  }\n\n  const searchToSource = localStorage.getItem('searchSource'); // , 'byTrend'  byKeyWord\n\n  if (e.target.textContent === '►') {\n    apiservice.page = currentPage;\n    apiservice.increamentPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n    const results = response.data.results;\n\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    window.scrollBy(0, -window.pageYOffset + 270);\n    // window.scrollBy(0, -1000);\n    return;\n  }\n\n  if (e.target.textContent === '◄') {\n    apiservice.decrementPage();\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    pagination(response.data.page, response.data.total_pages);\n    // window.scrollBy(0, -1000);\n    window.scrollBy(0, -window.pageYOffset + 270);\n    return;\n  }\n\n  if (true) {\n    apiservice.page = Number(e.target.textContent);\n\n    if (searchToSource === 'byTrend') {\n      response = await apiservice.fetchTrendFilms();\n    } else {\n      response = await apiservice.fetchFilmsByKeyWord();\n    }\n\n    const results = response.data.results;\n    movieContainer.innerHTML = renderMarkupSearch(results);\n\n    pagination(response.data.page, response.data.total_pages);\n    // window.scrollBy(0, -1000);\n    // console.log(window.pageYOffset);\n    window.scrollBy(0, -window.pageYOffset + 270);\n\n    return;\n  }\n}\n","import { renderMarkupSearch } from './markupSearch';\nimport { movieContainer } from './refs';\nimport apiservice from './apiService';\nimport pagination from './pagination';\nimport { hideLoader, showLoader } from './loader';\n\n// const apiService = new ApiService();\ngetMovies();\n\nexport async function getMovies() {\n  try {\n    showLoader();\n    // apiservice.resetPage();\n    await apiservice.fetchGenres();\n    const response = await apiservice.fetchTrendFilms();\n    const results = response.data.results;\n    // console.log('results: ', results);\n    // alert(response.data.total_pages);\n    movieContainer.innerHTML = renderMarkupSearch(results);\n    hideLoader();\n\n    // console.log('response.data.total_pages01: ', response.data.total_pages);\n\n    pagination(1, response.data.total_pages);\n  } catch (err) {\n    console.log(err);\n  }\n}\n"],"names":["$krGWQ","parcelRequire","$bdfcdc80b4c38739$export$56525cbb1fcd885c","loader","document","querySelector","classList","remove","$bdfcdc80b4c38739$export$5cee2c2772922923","add","$l0vNa","async","$8dc511da3b87cb69$export$60e1c8f5f122c5ac","$iyB0E","default","fetchGenres","response","fetchTrendFilms","results","data","movieContainer","innerHTML","renderMarkupSearch","$1bab9c519cfa82bc$export$2e2bcd8739ae039","total_pages","err","console","log","$1bab9c519cfa82bc$var$paginationList","$1bab9c519cfa82bc$var$paginationBox","$1bab9c519cfa82bc$var$currentPage","currentP","totalPages","murkup","addEventListener","e","target","tagName","textContent","searchToSource","localStorage","getItem","page","increamentPage","fetchFilmsByKeyWord","window","scrollBy","pageYOffset","decrementPage","Number","removeEventListener","$7LV6V","onLibrPaginationClick","headerForm","evt","preventDefault","query","currentTarget","keyword","value","keyWord","setItem","cleanHtml","trim","errorText","sadEror","paginationDiv","setTimeout","reset","length","openModalTeamBtn","$baGT8","toggleTeamModal","closeModalTeamBtn","modalTeam","clickBackdropCloseTeamModal"],"version":3,"file":"index.398dd895.js.map"}