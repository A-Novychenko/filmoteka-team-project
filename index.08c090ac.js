var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r);var i=r("krGWQ"),n=(i=r("krGWQ"),r("iyB0E")),o=r("l0vNa");r("l0vNa");const l=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},d=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};r("iyB0E"),r("l0vNa"),o=r("l0vNa"),i=r("krGWQ"),n=r("iyB0E");async function s(){try{l(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),t=e.data.results;i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(t),d(),m(1,e.data.total_pages)}catch(e){console.log(e)}}s();i=r("krGWQ");const c=document.querySelector(".pagination__list");let u;async function m(e,t){u=e;let a="";u>1&&(a+='<li class="pagination__item pagination__item_arrows">◄</li> ',a+='<li class="pagination__item">1</li>'),u>4&&(a+='<li class="pagination__item three-drops">...</li>'),u>3&&(a+=`<li class="pagination__item">${u-2}</li>`),u>2&&(a+=`<li class="pagination__item">${u-1}</li>`),a+=`<li class="pagination__item current">${u}</li>`,t-1>u&&(a+=`<li class="pagination__item">${u+1}</li>`),t-2>u&&(a+=`<li class="pagination__item">${u+2}</li>`),t-3>u&&(a+='<li class="pagination__item three-drops">...</li>'),t>u&&(a+=`<li class="pagination__item">${t}</li>`,a+='<li class="pagination__item pagination__item_arrows">►</li>'),c.innerHTML=a}document.querySelector(".pagination").addEventListener("click",(async function(e){let t;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const a=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=u,n.default.increamentPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),m(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}if("◄"===e.target.textContent){n.default.decrementPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),m(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}{n.default.page=Number(e.target.textContent),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const r=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),m(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}}));i=r("krGWQ");r("37v9V");i=r("krGWQ"),i=r("krGWQ"),i=r("krGWQ");var g=r("jwFHl"),_=(i=r("krGWQ"),r("37v9V"));let v;function f(e){"Escape"===e.code&&(window.removeEventListener("keydown",f),(0,_.cleanHtmlTrailer)(),i.openModalMovie.classList.toggle("is-hidden"))}i.clicksMovie.addEventListener("click",(function(e){if(!e.target.closest(".movie__item"))return;try{let t;i.openModalMovie.classList.toggle("is-hidden"),window.addEventListener("keydown",f),i.openModalMovie.classList.contains("is-hidden")&&window.removeEventListener("keydown",f);const a=JSON.parse(localStorage.getItem("currentFilms"));t=a.data.results;const r=e.target.closest(".movie__item").dataset.movie;i.modalGallery.innerHTML="",v=t.find((e=>e.id==r)),null==v||i.modalGallery.insertAdjacentHTML("beforeend",(0,g.renderMarkupModal)(v))}catch(e){console.log(e)}})),i.closeModalMovieBtn.addEventListener("click",(function(){(0,_.cleanHtmlTrailer)(),setTimeout((()=>i.openModalMovie.classList.add("is-hidden")),150)})),i.openModalMovie.addEventListener("click",(function(e){e.target===e.currentTarget&&((0,_.cleanHtmlTrailer)(),i.openModalMovie.classList.toggle("is-hidden"))})),i.modalGallery.addEventListener("click",(async function(e){try{e.target.classList.contains("btn_modal__back")&&setTimeout((()=>i.modalGallery.innerHTML=(0,g.renderMarkupModal)(v)),150)}catch(e){console.log(e)}})),r("jwFHl"),r("iyB0E");i=r("krGWQ");var p=r("baGT8");r("7YAZl"),i.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const t=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",t),(0,o.cleanHtml)(),n.default.page=1,!n.default.query.trim())return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),void i.headerForm.reset();l();const a=await n.default.fetchFilmsByKeyWord(),r=a.data.results;i.headerForm.reset(),d(),0===r.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),m(1,a.data.total_pages),d())}catch(e){console.log(e)}})),i.openModalTeamBtn.addEventListener("click",p.toggleTeamModal),i.closeModalTeamBtn.addEventListener("click",p.toggleTeamModal),i.modalTeam.addEventListener("click",p.clickBackdropCloseTeamModal);
//# sourceMappingURL=index.08c090ac.js.map
