var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in i){var a=i[e];delete i[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},e.parcelRequired7c6=a);var n=a("iyB0E"),l=a("krGWQ"),o=a("l0vNa");l=a("krGWQ");const r=document.querySelector(".pagination__list"),s=document.querySelector(".pagination");let c,d,u;function g(){r.innerHTML="",n.default.resetPage(),l.btnWatched.classList.add("btnIsActive"),l.btnQueue.classList.remove("btnIsActive"),localStorage.setItem("sourceForModal","watchedFilms"),d="watched",m()}function m(e,t){let i,a=e||n.default.page,s=t||1;try{i="watched"===d?localStorage.getItem("watchedFilms"):localStorage.getItem("queuedFilms")}catch(e){console.log(e)}l.libraryData.innerHTML="";try{if(i&&"[]"!==i){let e;e=JSON.parse(i);const t=window.screen.width;let d;if(d=t<767?4:t>767&&t<1280?8:9,e.length>d){const t=[];for(let i=0;i<e.length;i+=d)t.push(e.slice(i,i+d));s=t.length,function(e,t){c=t;let i="",a=e-2,n=e-1,l=e+1,o=e+2;e>1&&(i+='<li class="pagination__item pagination__item_arrows">◄</li> ',i+='<li class="pagination__item">1</li>');e>4&&(i+='<li class="pagination__item three-drops">...</li>');e>3&&(i+=`<li class="pagination__item">${a}</li>`);e>2&&(i+=`<li class="pagination__item">${n}</li>`);i+=`<li class="pagination__item current">${e}</li>`,c-1>e&&(i+=`<li class="pagination__item">${l}</li>`);c-2>e&&(i+=`<li class="pagination__item">${o}</li>`);c-3>e&&(i+='<li class="pagination__item three-drops">...</li>');c>e&&(i+=`<li class="pagination__item">${c}</li>`,i+='<li class="pagination__item pagination__item_arrows">►</li>');r.innerHTML=i,window.scrollBy(0,-1e4)}(a,s);try{const e=(0,o.renderMarkupSearch)(t[a-1]);l.libraryData.innerHTML=`<ul class="library__list js-library-list">${e}</ul>`}catch(e){console.log(e)}}else{const t=(0,o.renderMarkupSearch)(e);r.innerHTML="",n.default.page=1,a=1,l.libraryData.innerHTML=`<ul class="library__list js-library-list">${t}</ul>`}}else l.libraryData.innerHTML='<div class="no-data">\n      <p>\n        It\'s empty here now\n      </p>\n      <a class="no-data-btn" href="./index.html">Let\'s fix it</a>\n    </div>'}catch(e){console.log(e)}}l.btnWatched.addEventListener("click",g),l.btnQueue.addEventListener("click",(function(){r.innerHTML="",n.default.resetPage(),l.btnWatched.classList.remove("btnIsActive"),l.btnQueue.classList.add("btnIsActive"),localStorage.setItem("sourceForModal","queuedFilms"),d="queue",m()})),g(),s.addEventListener("click",(function(e){if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;if("►"===e.target.textContent)return u+=1,m(u,c),void(n.default.page=u);if("◄"===e.target.textContent)return u-=1,m(u,c),void(n.default.page=u);u=Number(e.target.textContent),m(u,c),n.default.page=u}));var p=a("jwFHl");l=a("krGWQ"),l=a("krGWQ"),l=a("krGWQ");function v(e){"Escape"===e.code&&(window.removeEventListener("keydown",v),l.openModalMovie.classList.toggle("is-hidden"),m())}document.querySelector(".js-library-data").addEventListener("click",(function(e){if(!e.target.closest(".movie__item"))return;try{let t;l.openModalMovie.classList.toggle("is-hidden"),window.addEventListener("keydown",v),l.openModalMovie.classList.contains("is-hidden")&&window.removeEventListener("keydown",v);const i=localStorage.getItem("sourceForModal");if("watchedFilms"===i){const e=JSON.parse(localStorage.getItem("watchedFilms"));t=e}if("queuedFilms"===i){const e=JSON.parse(localStorage.getItem("queuedFilms"));t=e}const a=e.target.closest(".movie__item").dataset.movie;l.modalGallery.innerHTML="";const n=t.find((e=>e.id==a));null==n||l.modalGallery.insertAdjacentHTML("beforeend",(0,p.renderMarkupModal)(n))}catch(e){console.log(e)}})),l.closeModalMovieBtn.addEventListener("click",(function(){setTimeout((()=>l.openModalMovie.classList.add("is-hidden",m())),150)})),l.openModalMovie.addEventListener("click",(function(e){e.target===e.currentTarget&&(l.openModalMovie.classList.toggle("is-hidden"),m())})),a("jwFHl");l=a("krGWQ");var f=a("7YAZl"),M=(l=a("krGWQ"),a("baGT8")),_=(l=a("krGWQ"),a("37v9V")),L=(_=a("37v9V"),l=a("krGWQ"),l=a("krGWQ"),a("j3p24"));(l=a("krGWQ")).openModalMovie.addEventListener("click",f.onClickModal),l.openModalTeamBtn.addEventListener("click",M.toggleTeamModal),l.closeModalTeamBtn.addEventListener("click",M.toggleTeamModal),l.modalTeam.addEventListener("click",M.clickBackdropCloseTeamModal),l.modalGallery.addEventListener("click",_.onBtnTrailer),l.libraryData.addEventListener("click",L.oneToggle);
//# sourceMappingURL=library.e4105ede.js.map
