var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r);var i=r("krGWQ"),n=(i=r("krGWQ"),r("iyB0E")),o=r("l0vNa");r("l0vNa");const d=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},l=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};r("iyB0E"),r("l0vNa"),o=r("l0vNa"),i=r("krGWQ"),n=r("iyB0E");async function s(){try{d(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),t=e.data.results;i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(t),l(),_(1,e.data.total_pages)}catch(e){console.log(e)}}s();i=r("krGWQ");var c=r("7LV6V");const u=document.querySelector(".pagination__list"),m=document.querySelector(".pagination");let p;async function _(e,t){p=e;let a="";p>1&&(a+='<li class="pagination__item pagination__item_arrows">◄</li> ',a+='<li class="pagination__item">1</li>'),p>4&&(a+='<li class="pagination__item three-drops">...</li>'),p>3&&(a+=`<li class="pagination__item">${p-2}</li>`),p>2&&(a+=`<li class="pagination__item">${p-1}</li>`),a+=`<li class="pagination__item current">${p}</li>`,t-1>p&&(a+=`<li class="pagination__item">${p+1}</li>`),t-2>p&&(a+=`<li class="pagination__item">${p+2}</li>`),t-3>p&&(a+='<li class="pagination__item three-drops">...</li>'),t>p&&(a+=`<li class="pagination__item">${t}</li>`,a+='<li class="pagination__item pagination__item_arrows">►</li>'),u.innerHTML=a}m.addEventListener("click",(async function(e){let t;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const a=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=p,n.default.increamentPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),_(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}if("◄"===e.target.textContent){n.default.decrementPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),_(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}{n.default.page=Number(e.target.textContent),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const r=t.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),_(t.data.page,t.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}})),m.removeEventListener("click",c.onLibrPaginationClick);i=r("krGWQ");r("37v9V"),r("j3p24"),r("j3p24"),r("j3p24"),r("j3p24"),r("jwFHl"),r("iyB0E");i=r("krGWQ");var f=r("baGT8");r("7YAZl"),i.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const t=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",t),(0,o.cleanHtml)(),n.default.page=1,!n.default.query.trim())return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),void i.headerForm.reset();d();const a=await n.default.fetchFilmsByKeyWord(),r=a.data.results;i.headerForm.reset(),l(),0===r.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),_(1,a.data.total_pages),l())}catch(e){console.log(e)}})),i.openModalTeamBtn.addEventListener("click",f.toggleTeamModal),document.addEventListener("DOMContentLoaded",(()=>{window.onscroll=function(){window.pageYOffset>800&&i.buttonTop.classList.remove("visually-hidden")},i.buttonTop.addEventListener("click",(function(){i.buttonTop.classList.add("visually-hidden"),window.scrollBy({top:-document.documentElement.scrollHeight,behavior:"smooth"})}))}));
//# sourceMappingURL=index.9acd0ebb.js.map
