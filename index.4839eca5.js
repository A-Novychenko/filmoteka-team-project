var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var i=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,i.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=i);var r=i("krGWQ"),n=(r=i("krGWQ"),i("iyB0E")),o=i("l0vNa");i("l0vNa");const s=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},l=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};i("iyB0E"),i("l0vNa"),o=i("l0vNa"),r=i("krGWQ"),n=i("iyB0E");var d=i("8vRiP");async function c(){try{s(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),t=e.data.results;r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(t),d.observer.observe(r.guard),l(),g(1,e.data.total_pages)}catch(e){console.log(e)}}c();r=i("krGWQ");var u=i("7LV6V");const m=document.querySelector(".pagination__list"),p=document.querySelector(".pagination");let _;async function g(e,t){_=e;let a="";_>1&&(a+='<li class="pagination__item pagination__item_arrows">◄</li> ',a+='<li class="pagination__item">1</li>'),_>4&&(a+='<li class="pagination__item three-drops">...</li>'),_>3&&(a+=`<li class="pagination__item">${_-2}</li>`),_>2&&(a+=`<li class="pagination__item">${_-1}</li>`),a+=`<li class="pagination__item current">${_}</li>`,t-1>_&&(a+=`<li class="pagination__item">${_+1}</li>`),t-2>_&&(a+=`<li class="pagination__item">${_+2}</li>`),t-3>_&&(a+='<li class="pagination__item three-drops">...</li>'),t>_&&(a+=`<li class="pagination__item">${t}</li>`,a+='<li class="pagination__item pagination__item_arrows">►</li>'),m.innerHTML=a}p.addEventListener("click",(async function(e){let t;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const a=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=_,n.default.increamentPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),g(t.data.page,t.data.total_pages),void window.scrollTo(0,230)}if("◄"===e.target.textContent){n.default.decrementPage(),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=t.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),g(t.data.page,t.data.total_pages),void window.scrollTo(0,230)}{n.default.page=Number(e.target.textContent),t="byTrend"===a?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const i=t.data.results;return r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(i),g(t.data.page,t.data.total_pages),void window.scrollTo(0,230)}})),p.removeEventListener("click",u.onLibrPaginationClick);r=i("krGWQ"),d=i("8vRiP");i("37v9V"),i("j3p24"),i("j3p24"),i("j3p24"),i("j3p24"),i("jwFHl"),i("iyB0E"),i("baGT8"),i("7YAZl"),r.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const t=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",t),(0,o.cleanHtml)(),r.paginationDiv.classList.add("visually-hidden"),n.default.page=1,!n.default.query.trim())return r.buttonTop.style.display="none",r.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),r.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{r.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),r.paginationDiv.classList.remove("visually-hidden"),c()}),2500),void r.headerForm.reset();s();const a=await n.default.fetchFilmsByKeyWord(),i=a.data.results;r.headerForm.reset(),l(),0===i.length?(r.buttonTop.style.display="none",r.errorText.classList.remove("header__error_hidden"),document.body.classList.add("sad__smile"),setTimeout((()=>{r.errorText.classList.add("header__error_hidden"),document.body.classList.remove("sad__smile"),r.paginationDiv.classList.remove("visually-hidden"),c()}),2500),r.headerForm.reset()):(r.movieContainer.innerHTML=(0,o.renderMarkupSearch)(i),r.paginationDiv.classList.remove("visually-hidden"),d.observer.observe(r.guard),g(1,a.data.total_pages),l())}catch(e){console.log(e)}}));
//# sourceMappingURL=index.4839eca5.js.map
