var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){t[e]=a},e.parcelRequired7c6=r);var i=r("krGWQ"),n=(i=r("krGWQ"),r("iyB0E")),o=r("l0vNa");r("l0vNa");const d=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},l=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};r("iyB0E"),r("l0vNa"),o=r("l0vNa"),i=r("krGWQ"),n=r("iyB0E");var s=r("8vRiP");async function c(){try{d(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),a=e.data.results;i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(a),s.observer.observe(i.guard),l(),f(1,e.data.total_pages)}catch(e){console.log(e)}}c();i=r("krGWQ");var u=r("7LV6V");const p=document.querySelector(".pagination__list"),_=document.querySelector(".pagination");let g;async function f(e,a){g=e;let t="";g>1&&(t+='<li class="pagination__item pagination__item_arrows">◄</li> ',t+='<li class="pagination__item">1</li>'),g>4&&(t+='<li class="pagination__item three-drops">...</li>'),g>3&&(t+=`<li class="pagination__item">${g-2}</li>`),g>2&&(t+=`<li class="pagination__item">${g-1}</li>`),t+=`<li class="pagination__item current">${g}</li>`,a-1>g&&(t+=`<li class="pagination__item">${g+1}</li>`),a-2>g&&(t+=`<li class="pagination__item">${g+2}</li>`),a-3>g&&(t+='<li class="pagination__item three-drops">...</li>'),a>g&&(t+=`<li class="pagination__item">${a}</li>`,t+='<li class="pagination__item pagination__item_arrows">►</li>'),p.innerHTML=t}_.addEventListener("click",(async function(e){let a;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const t=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=g,n.default.increamentPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),f(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}if("◄"===e.target.textContent){n.default.decrementPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),f(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}{n.default.page=Number(e.target.textContent),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const r=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),f(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}})),_.removeEventListener("click",u.onLibrPaginationClick);i=r("krGWQ"),s=r("8vRiP");r("37v9V"),r("j3p24"),r("j3p24"),r("j3p24"),r("j3p24"),r("jwFHl"),r("iyB0E");i=r("krGWQ");var m=r("baGT8");r("7YAZl"),i.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const a=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",a),(0,o.cleanHtml)(),n.default.page=1,!n.default.query.trim())return i.buttonTop.style.display="none",i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),c()}),2500),void i.headerForm.reset();d();const t=await n.default.fetchFilmsByKeyWord(),r=t.data.results;i.headerForm.reset(),l(),0===r.length?(i.buttonTop.style.display="none",i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),c()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),s.observer.observe(i.guard),f(1,t.data.total_pages),l())}catch(e){console.log(e)}})),i.openModalTeamBtn.addEventListener("click",m.toggleTeamModal);
//# sourceMappingURL=index.570601a3.js.map
