var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){t[e]=a},e.parcelRequired7c6=r);var i=r("krGWQ"),n=(i=r("krGWQ"),r("iyB0E")),o=r("l0vNa");r("l0vNa");const l=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},d=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};r("iyB0E"),r("l0vNa"),o=r("l0vNa"),i=r("krGWQ"),n=r("iyB0E");async function s(){try{l(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),a=e.data.results;i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(a),d(),g(1,e.data.total_pages)}catch(e){console.log(e)}}s();i=r("krGWQ");var c=r("7LV6V");const u=document.querySelector(".pagination__list"),m=document.querySelector(".pagination");let _;async function g(e,a){_=e;let t="";_>1&&(t+='<li class="pagination__item pagination__item_arrows">◄</li> ',t+='<li class="pagination__item">1</li>'),_>4&&(t+='<li class="pagination__item three-drops">...</li>'),_>3&&(t+=`<li class="pagination__item">${_-2}</li>`),_>2&&(t+=`<li class="pagination__item">${_-1}</li>`),t+=`<li class="pagination__item current">${_}</li>`,a-1>_&&(t+=`<li class="pagination__item">${_+1}</li>`),a-2>_&&(t+=`<li class="pagination__item">${_+2}</li>`),a-3>_&&(t+='<li class="pagination__item three-drops">...</li>'),a>_&&(t+=`<li class="pagination__item">${a}</li>`,t+='<li class="pagination__item pagination__item_arrows">►</li>'),u.innerHTML=t}m.addEventListener("click",(async function(e){let a;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const t=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=_,n.default.increamentPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),g(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}if("◄"===e.target.textContent){n.default.decrementPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),g(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}{n.default.page=Number(e.target.textContent),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const r=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),g(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}})),m.removeEventListener("click",c.onLibrPaginationClick);i=r("krGWQ");r("37v9V"),r("j3p24"),r("j3p24"),r("j3p24"),r("j3p24"),r("jwFHl"),r("iyB0E");i=r("krGWQ");var p=r("baGT8");r("7YAZl"),i.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const a=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",a),(0,o.cleanHtml)(),n.default.page=1,!n.default.query.trim())return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),void i.headerForm.reset();l();const t=await n.default.fetchFilmsByKeyWord(),r=t.data.results;i.headerForm.reset(),d(),0===r.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),g(1,t.data.total_pages),d())}catch(e){console.log(e)}})),i.openModalTeamBtn.addEventListener("click",p.toggleTeamModal),i.closeModalTeamBtn.addEventListener("click",p.toggleTeamModal),i.modalTeam.addEventListener("click",p.clickBackdropCloseTeamModal);
//# sourceMappingURL=index.398dd895.js.map
