!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var i=a("4Nugj"),s=a("bpxeT"),o=a("2TvXO"),d=(i=a("4Nugj"),a("dh4R1")),l=a("hnyF1"),c=(a("hnyF1"),function(){var e=document.querySelector(".loader");e&&e.classList.remove("hidden")}),u=function(){var e=document.querySelector(".loader");e&&e.classList.add("hidden")};a("bpxeT"),a("2TvXO"),a("dh4R1"),a("hnyF1"),s=a("bpxeT"),o=a("2TvXO"),l=a("hnyF1"),i=a("4Nugj"),d=a("dh4R1");function p(){return f.apply(this,arguments)}function f(){return(f=e(s)(e(o).mark((function t(){var r,n;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(),e.next=4,d.default.fetchGenres();case 4:return e.next=6,d.default.fetchTrendFilms();case 6:r=e.sent,n=r.data.results,i.movieContainer.innerHTML=(0,l.renderMarkupSearch)(n),u(),v(1,r.data.total_pages),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}p();i=a("4Nugj");var h,m=a("b3ndh"),g=document.querySelector(".pagination__list"),_=document.querySelector(".pagination");function v(e,t){return y.apply(this,arguments)}function y(){return(y=e(s)(e(o).mark((function t(r,n){var a,i,s,d,l;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",i=(h=r)-2,s=h-1,d=h+1,l=h+2,h>1&&(a+='<li class="pagination__item pagination__item_arrows">◄</li> ',a+='<li class="pagination__item">1</li>'),h>4&&(a+='<li class="pagination__item three-drops">...</li>'),h>3&&(a+='<li class="pagination__item">'.concat(i,"</li>")),h>2&&(a+='<li class="pagination__item">'.concat(s,"</li>")),a+='<li class="pagination__item current">'.concat(h,"</li>"),n-1>h&&(a+='<li class="pagination__item">'.concat(d,"</li>")),n-2>h&&(a+='<li class="pagination__item">'.concat(l,"</li>")),n-3>h&&(a+='<li class="pagination__item three-drops">...</li>'),n>h&&(a+='<li class="pagination__item">'.concat(n,"</li>"),a+='<li class="pagination__item pagination__item_arrows">►</li>'),g.innerHTML=a;case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=e(s)(e(o).mark((function t(r){var n,a,s,c,u;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"===r.target.tagName){e.next=3;break}return e.abrupt("return");case 3:if("..."!==r.target.textContent){e.next=5;break}return e.abrupt("return");case 5:if(a=localStorage.getItem("searchSource"),"►"!==r.target.textContent){e.next=23;break}if(d.default.page=h,d.default.increamentPage(),"byTrend"!==a){e.next=15;break}return e.next=12,d.default.fetchTrendFilms();case 12:n=e.sent,e.next=18;break;case 15:return e.next=17,d.default.fetchFilmsByKeyWord();case 17:n=e.sent;case 18:return s=n.data.results,i.movieContainer.innerHTML=(0,l.renderMarkupSearch)(s),v(n.data.page,n.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 23:if("◄"!==r.target.textContent){e.next=39;break}if(d.default.decrementPage(),"byTrend"!==a){e.next=31;break}return e.next=28,d.default.fetchTrendFilms();case 28:n=e.sent,e.next=34;break;case 31:return e.next=33,d.default.fetchFilmsByKeyWord();case 33:n=e.sent;case 34:return c=n.data.results,i.movieContainer.innerHTML=(0,l.renderMarkupSearch)(c),v(n.data.page,n.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 39:if(d.default.page=Number(r.target.textContent),"byTrend"!==a){e.next=46;break}return e.next=43,d.default.fetchTrendFilms();case 43:n=e.sent,e.next=49;break;case 46:return e.next=48,d.default.fetchFilmsByKeyWord();case 48:n=e.sent;case 49:return u=n.data.results,i.movieContainer.innerHTML=(0,l.renderMarkupSearch)(u),v(n.data.page,n.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 54:case"end":return e.stop()}}),t)})))).apply(this,arguments)}_.addEventListener("click",(function(e){return x.apply(this,arguments)})),_.removeEventListener("click",m.onLibrPaginationClick);i=a("4Nugj");function b(){return(b=e(s)(e(o).mark((function t(r){var n,a,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),d.default.query=r.currentTarget.keyword.value,n=r.currentTarget.keyword.value,localStorage.setItem("keyWord",n),(0,l.cleanHtml)(),d.default.page=1,d.default.query.trim()){e.next=14;break}return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((function(){i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),p()}),2500),i.headerForm.reset(),e.abrupt("return");case 14:return c(),e.next=17,d.default.fetchFilmsByKeyWord();case 17:a=e.sent,s=a.data.results,i.headerForm.reset(),u(),0===s.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((function(){i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),p()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,l.renderMarkupSearch)(s),v(1,a.data.total_pages),u()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}a("cDXQO"),a("9tAMN"),a("9tAMN"),a("9tAMN"),a("9tAMN"),a("jeWR1"),a("dh4R1");i=a("4Nugj");var w=a("ghnK3");a("kpmfB"),i.headerForm.addEventListener("submit",(function(e){return b.apply(this,arguments)})),i.openModalTeamBtn.addEventListener("click",w.toggleTeamModal),document.addEventListener("DOMContentLoaded",(function(){window.onscroll=function(){window.pageYOffset>800&&i.buttonTop.classList.remove("visually-hidden")},i.buttonTop.addEventListener("click",(function(){i.buttonTop.classList.add("visually-hidden"),window.scrollBy({top:-document.documentElement.scrollHeight,behavior:"smooth"})}))}))}();
//# sourceMappingURL=index.b6968f25.js.map
