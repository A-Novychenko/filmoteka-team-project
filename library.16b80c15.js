var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var i=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,i.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=i);var n=i("iyB0E"),l=i("krGWQ"),o=i("l0vNa");l=i("krGWQ");const r=document.querySelector(".pagination__list"),s=document.querySelector(".pagination");let c,d,u;function g(){r.innerHTML="",n.default.resetPage(),l.btnWatched.classList.add("btnIsActive"),l.btnQueue.classList.remove("btnIsActive"),localStorage.setItem("sourceForModal","watchedFilms"),d="watched",m()}function m(e,t){let a,i=e||n.default.page,s=t||1;try{a="watched"===d?localStorage.getItem("watchedFilms"):localStorage.getItem("queuedFilms")}catch(e){console.log(e)}l.libraryData.innerHTML="";try{if(a&&"[]"!==a){let e;e=JSON.parse(a);const t=window.screen.width;let d;if(d=t<767?4:t>767&&t<1280?8:9,e.length>d){const t=[];for(let a=0;a<e.length;a+=d)t.push(e.slice(a,a+d));s=t.length,function(e,t){c=t;let a="",i=e-2,n=e-1,l=e+1,o=e+2;e>1&&(a+='<li class="pagination__item pagination__item_arrows">◄</li> ',a+='<li class="pagination__item">1</li>');e>4&&(a+='<li class="pagination__item three-drops">...</li>');e>3&&(a+=`<li class="pagination__item">${i}</li>`);e>2&&(a+=`<li class="pagination__item">${n}</li>`);a+=`<li class="pagination__item current">${e}</li>`,c-1>e&&(a+=`<li class="pagination__item">${l}</li>`);c-2>e&&(a+=`<li class="pagination__item">${o}</li>`);c-3>e&&(a+='<li class="pagination__item three-drops">...</li>');c>e&&(a+=`<li class="pagination__item">${c}</li>`,a+='<li class="pagination__item pagination__item_arrows">►</li>');r.innerHTML=a,window.scrollBy(0,-1e4)}(i,s);try{const e=(0,o.renderMarkupSearch)(t[i-1]);l.libraryData.innerHTML=`<ul class="library__list js-library-list">${e}</ul>`}catch(e){console.log(e)}}else{const t=(0,o.renderMarkupSearch)(e);r.innerHTML="",n.default.page=1,i=1,l.libraryData.innerHTML=`<ul class="library__list js-library-list">${t}</ul>`}}else l.libraryData.innerHTML='<div class="no-data">\n      <p>\n        It\'s empty here now\n      </p>\n      <a class="no-data-btn" href="./index.html">Let\'s fix it</a>\n    </div>'}catch(e){console.log(e)}}l.btnWatched.addEventListener("click",g),l.btnQueue.addEventListener("click",(function(){r.innerHTML="",n.default.resetPage(),l.btnWatched.classList.remove("btnIsActive"),l.btnQueue.classList.add("btnIsActive"),localStorage.setItem("sourceForModal","queuedFilms"),d="queue",m()})),g(),s.addEventListener("click",(function(e){if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;if("►"===e.target.textContent)return u+=1,m(u,c),void(n.default.page=u);if("◄"===e.target.textContent)return u-=1,m(u,c),void(n.default.page=u);u=Number(e.target.textContent),m(u,c),n.default.page=u}));var p=i("jwFHl");l=i("krGWQ"),l=i("krGWQ"),l=i("krGWQ");let v;function f(e){"Escape"===e.code&&(window.removeEventListener("keydown",f),l.openModalMovie.classList.toggle("is-hidden"),m())}document.querySelector(".js-library-data").addEventListener("click",(function(e){if(!e.target.closest(".movie__item"))return;try{let t;l.openModalMovie.classList.toggle("is-hidden"),window.addEventListener("keydown",f),l.openModalMovie.classList.contains("is-hidden")&&window.removeEventListener("keydown",f);const a=localStorage.getItem("sourceForModal");if("watchedFilms"===a){const e=JSON.parse(localStorage.getItem("watchedFilms"));t=e}if("queuedFilms"===a){const e=JSON.parse(localStorage.getItem("queuedFilms"));t=e}const i=e.target.closest(".movie__item").dataset.movie;l.modalGallery.innerHTML="",v=t.find((e=>e.id==i)),null==v||l.modalGallery.insertAdjacentHTML("beforeend",(0,p.renderMarkupModal)(v))}catch(e){console.log(e)}})),l.closeModalMovieBtn.addEventListener("click",(function(){setTimeout((()=>l.openModalMovie.classList.add("is-hidden",m())),150)})),l.openModalMovie.addEventListener("click",(function(e){e.target===e.currentTarget&&(l.openModalMovie.classList.toggle("is-hidden"),m())})),l.modalGallery.addEventListener("click",(async function(e){try{e.target.classList.contains("btn_modal__back")&&setTimeout((()=>l.modalGallery.innerHTML=(0,p.renderMarkupModal)(v)),150)}catch(e){console.log(e)}})),i("jwFHl");l=i("krGWQ");var M=i("7YAZl"),_=(l=i("krGWQ"),i("baGT8")),L=(l=i("krGWQ"),i("37v9V"));L=i("37v9V");(l=i("krGWQ")).openModalMovie.addEventListener("click",M.onClickModal),l.openModalTeamBtn.addEventListener("click",_.toggleTeamModal),l.closeModalTeamBtn.addEventListener("click",_.toggleTeamModal),l.modalTeam.addEventListener("click",_.clickBackdropCloseTeamModal),l.modalGallery.addEventListener("click",L.onBtnTrailer);
//# sourceMappingURL=library.16b80c15.js.map
