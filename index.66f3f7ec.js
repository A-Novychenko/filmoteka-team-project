!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n);var i=n("4Nugj"),o=n("bpxeT"),s=n("2TvXO"),l=(i=n("4Nugj"),n("dh4R1")),d=n("hnyF1"),c=(n("hnyF1"),function(){var e=document.querySelector(".loader");e&&e.classList.remove("hidden")}),u=function(){var e=document.querySelector(".loader");e&&e.classList.add("hidden")};o=n("bpxeT"),s=n("2TvXO"),n("dh4R1"),n("hnyF1"),o=n("bpxeT"),s=n("2TvXO"),d=n("hnyF1"),i=n("4Nugj"),l=n("dh4R1");function p(){return f.apply(this,arguments)}function f(){return(f=e(o)(e(s).mark((function t(){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(),e.next=4,l.default.fetchGenres();case 4:return e.next=6,l.default.fetchTrendFilms();case 6:r=e.sent,a=r.data.results,i.movieContainer.innerHTML=(0,d.renderMarkupSearch)(a),u(),h(1,r.data.total_pages),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}p();i=n("4Nugj");var m,g=document.querySelector(".pagination__list");function h(e,t){return v.apply(this,arguments)}function v(){return(v=e(o)(e(s).mark((function t(r,a){var n,i,o,l,d;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",i=(m=r)-2,o=m-1,l=m+1,d=m+2,m>1&&(n+='<li class="pagination__item pagination__item_arrows">◄</li> ',n+='<li class="pagination__item">1</li>'),m>4&&(n+='<li class="pagination__item three-drops">...</li>'),m>3&&(n+='<li class="pagination__item">'.concat(i,"</li>")),m>2&&(n+='<li class="pagination__item">'.concat(o,"</li>")),n+='<li class="pagination__item current">'.concat(m,"</li>"),a-1>m&&(n+='<li class="pagination__item">'.concat(l,"</li>")),a-2>m&&(n+='<li class="pagination__item">'.concat(d,"</li>")),a-3>m&&(n+='<li class="pagination__item three-drops">...</li>'),a>m&&(n+='<li class="pagination__item">'.concat(a,"</li>"),n+='<li class="pagination__item pagination__item_arrows">►</li>'),g.innerHTML=n;case 16:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=e(o)(e(s).mark((function t(r){var a,n,o,c,u;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"===r.target.tagName){e.next=3;break}return e.abrupt("return");case 3:if("..."!==r.target.textContent){e.next=5;break}return e.abrupt("return");case 5:if(n=localStorage.getItem("searchSource"),"►"!==r.target.textContent){e.next=23;break}if(l.default.page=m,l.default.increamentPage(),"byTrend"!==n){e.next=15;break}return e.next=12,l.default.fetchTrendFilms();case 12:a=e.sent,e.next=18;break;case 15:return e.next=17,l.default.fetchFilmsByKeyWord();case 17:a=e.sent;case 18:return o=a.data.results,i.movieContainer.innerHTML=(0,d.renderMarkupSearch)(o),h(a.data.page,a.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 23:if("◄"!==r.target.textContent){e.next=39;break}if(l.default.decrementPage(),"byTrend"!==n){e.next=31;break}return e.next=28,l.default.fetchTrendFilms();case 28:a=e.sent,e.next=34;break;case 31:return e.next=33,l.default.fetchFilmsByKeyWord();case 33:a=e.sent;case 34:return c=a.data.results,i.movieContainer.innerHTML=(0,d.renderMarkupSearch)(c),h(a.data.page,a.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 39:if(l.default.page=Number(r.target.textContent),"byTrend"!==n){e.next=46;break}return e.next=43,l.default.fetchTrendFilms();case 43:a=e.sent,e.next=49;break;case 46:return e.next=48,l.default.fetchFilmsByKeyWord();case 48:a=e.sent;case 49:return u=a.data.results,i.movieContainer.innerHTML=(0,d.renderMarkupSearch)(u),h(a.data.page,a.data.total_pages),window.scrollBy(0,270-window.pageYOffset),e.abrupt("return");case 54:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.querySelector(".pagination").addEventListener("click",(function(e){return _.apply(this,arguments)}));i=n("4Nugj");function y(){return(y=e(o)(e(s).mark((function t(r){var a,n,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.preventDefault(),l.default.query=r.currentTarget.keyword.value,a=r.currentTarget.keyword.value,localStorage.setItem("keyWord",a),(0,d.cleanHtml)(),l.default.page=1,l.default.query.trim()){e.next=14;break}return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((function(){i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),p()}),2500),i.headerForm.reset(),e.abrupt("return");case 14:return c(),e.next=17,l.default.fetchFilmsByKeyWord();case 17:n=e.sent,o=n.data.results,i.headerForm.reset(),u(),0===o.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((function(){i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),p()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,d.renderMarkupSearch)(o),h(1,n.data.total_pages),u()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}n("cDXQO");o=n("bpxeT"),s=n("2TvXO"),i=n("4Nugj"),i=n("4Nugj"),i=n("4Nugj");var T,k=n("jeWR1"),x=(i=n("4Nugj"),n("cDXQO"));function L(e){"Escape"===e.code&&(window.removeEventListener("keydown",L),(0,x.cleanHtmlTrailer)(),i.openModalMovie.classList.toggle("is-hidden"))}function w(){return(w=e(o)(e(s).mark((function t(r){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r.target.classList.contains("btn_modal__back")&&setTimeout((function(){return i.modalGallery.innerHTML=(0,k.renderMarkupModal)(T)}),150)}catch(e){console.log(e)}case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i.clicksMovie.addEventListener("click",(function(e){if(!e.target.closest(".movie__item"))return;try{var t;i.openModalMovie.classList.toggle("is-hidden"),window.addEventListener("keydown",L),i.openModalMovie.classList.contains("is-hidden")&&window.removeEventListener("keydown",L);var r=JSON.parse(localStorage.getItem("currentFilms"));t=r.data.results;var a=e.target.closest(".movie__item").dataset.movie;i.modalGallery.innerHTML="",null==(T=t.find((function(e){return e.id==a})))||i.modalGallery.insertAdjacentHTML("beforeend",(0,k.renderMarkupModal)(T))}catch(e){console.log(e)}})),i.closeModalMovieBtn.addEventListener("click",(function(){(0,x.cleanHtmlTrailer)(),setTimeout((function(){return i.openModalMovie.classList.add("is-hidden")}),150)})),i.openModalMovie.addEventListener("click",(function(e){e.target===e.currentTarget&&((0,x.cleanHtmlTrailer)(),i.openModalMovie.classList.toggle("is-hidden"))})),i.modalGallery.addEventListener("click",(function(e){return w.apply(this,arguments)})),n("jeWR1"),n("dh4R1");i=n("4Nugj");var M=n("ghnK3");n("kpmfB"),i.headerForm.addEventListener("submit",(function(e){return y.apply(this,arguments)})),i.openModalTeamBtn.addEventListener("click",M.toggleTeamModal),i.closeModalTeamBtn.addEventListener("click",M.toggleTeamModal),i.modalTeam.addEventListener("click",M.clickBackdropCloseTeamModal)}();
//# sourceMappingURL=index.66f3f7ec.js.map
