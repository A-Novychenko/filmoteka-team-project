var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,r.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){t[e]=a},e.parcelRequired7c6=r);var i=r("krGWQ"),n=(i=r("krGWQ"),r("iyB0E")),o=r("l0vNa");r("l0vNa");const d=()=>{const e=document.querySelector(".loader");e&&e.classList.remove("hidden")},l=()=>{const e=document.querySelector(".loader");e&&e.classList.add("hidden")};r("iyB0E"),r("l0vNa"),o=r("l0vNa"),i=r("krGWQ"),n=r("iyB0E");async function s(){try{d(),await n.default.fetchGenres();const e=await n.default.fetchTrendFilms(),a=e.data.results;i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(a),l(),_(1,e.data.total_pages)}catch(e){console.log(e)}}s();i=r("krGWQ");const c=document.querySelector(".pagination__list");let u;async function _(e,a){u=e;let t="";u>1&&(t+='<li class="pagination__item pagination__item_arrows">◄</li> ',t+='<li class="pagination__item">1</li>'),u>4&&(t+='<li class="pagination__item three-drops">...</li>'),u>3&&(t+=`<li class="pagination__item">${u-2}</li>`),u>2&&(t+=`<li class="pagination__item">${u-1}</li>`),t+=`<li class="pagination__item current">${u}</li>`,a-1>u&&(t+=`<li class="pagination__item">${u+1}</li>`),a-2>u&&(t+=`<li class="pagination__item">${u+2}</li>`),a-3>u&&(t+='<li class="pagination__item three-drops">...</li>'),a>u&&(t+=`<li class="pagination__item">${a}</li>`,t+='<li class="pagination__item pagination__item_arrows">►</li>'),c.innerHTML=t}document.querySelector(".pagination").addEventListener("click",(async function(e){let a;if("LI"!==e.target.tagName)return;if("..."===e.target.textContent)return;const t=localStorage.getItem("searchSource");if("►"===e.target.textContent){n.default.page=u,n.default.increamentPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),_(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}if("◄"===e.target.textContent){n.default.decrementPage(),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const e=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(e),_(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}{n.default.page=Number(e.target.textContent),a="byTrend"===t?await n.default.fetchTrendFilms():await n.default.fetchFilmsByKeyWord();const r=a.data.results;return i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),_(a.data.page,a.data.total_pages),void window.scrollBy(0,270-window.pageYOffset)}}));i=r("krGWQ");r("37v9V"),r("j3p24"),r("j3p24"),r("j3p24"),r("j3p24"),r("jwFHl"),r("iyB0E");i=r("krGWQ");var m=r("baGT8");r("7YAZl"),i.headerForm.addEventListener("submit",(async function(e){try{e.preventDefault(),n.default.query=e.currentTarget.keyword.value;const a=e.currentTarget.keyword.value;if(localStorage.setItem("keyWord",a),(0,o.cleanHtml)(),n.default.page=1,!n.default.query.trim())return i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),void i.headerForm.reset();d();const t=await n.default.fetchFilmsByKeyWord(),r=t.data.results;i.headerForm.reset(),l(),0===r.length?(i.errorText.classList.remove("header__error_hidden"),i.sadEror.classList.remove("header__error_hidden"),i.paginationDiv.classList.add("visually-hidden"),setTimeout((()=>{i.errorText.classList.add("header__error_hidden"),i.sadEror.classList.add("header__error_hidden"),i.paginationDiv.classList.remove("visually-hidden"),s()}),2500),i.headerForm.reset()):(i.movieContainer.innerHTML=(0,o.renderMarkupSearch)(r),_(1,t.data.total_pages),l())}catch(e){console.log(e)}})),i.openModalTeamBtn.addEventListener("click",m.toggleTeamModal),i.closeModalTeamBtn.addEventListener("click",m.toggleTeamModal),i.modalTeam.addEventListener("click",m.clickBackdropCloseTeamModal);
//# sourceMappingURL=index.e3b8e5e7.js.map
